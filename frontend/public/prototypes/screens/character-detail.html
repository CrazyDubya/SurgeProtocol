<!DOCTYPE html>
<html lang="en" data-theme="algorithm-vision">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Subject Analysis - SURGE PROTOCOL</title>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;700&family=Orbitron:wght@400;700&family=Exo+2:wght@400;700&family=Source+Code+Pro:wght@400;700&family=Rajdhani:wght@400;700&family=IBM+Plex+Sans:ital,wght@0,400;1,400&display=swap" rel="stylesheet">

  <!-- Stylesheets -->
  <link rel="stylesheet" href="../styles/tokens/base.css">
  <link rel="stylesheet" href="../styles/themes/neon-decay.css">
  <link rel="stylesheet" href="../styles/themes/terminal-noir.css">
  <link rel="stylesheet" href="../styles/themes/algorithm-vision.css">
  <link rel="stylesheet" href="../styles/components/card.css">
  <link rel="stylesheet" href="../styles/components/button.css">
  <link rel="stylesheet" href="../styles/components/progress.css">
  <link rel="stylesheet" href="../styles/components/badge.css">
  <link rel="stylesheet" href="../styles/components/stat.css">
  <link rel="stylesheet" href="../styles/components/hud.css">

  <style>
    /* Character Detail Page Layout */
    body {
      background: var(--bg-primary);
      color: var(--text-primary);
      font-family: var(--font-ui);
      min-height: 100vh;
      margin: 0;
    }

    .page-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: var(--space-4) var(--space-6);
      border-bottom: 1px solid var(--border-default);
      background: linear-gradient(90deg, rgba(0, 212, 255, 0.1) 0%, transparent 100%);
    }

    .page-header__back {
      display: flex;
      align-items: center;
      gap: var(--space-2);
      color: var(--text-secondary);
      text-decoration: none;
      font-size: var(--text-sm);
      transition: color var(--duration-fast);
    }

    .page-header__back:hover {
      color: var(--accent-algorithm);
    }

    .page-header__title {
      font-family: var(--font-display);
      text-transform: uppercase;
      letter-spacing: var(--tracking-widest);
      color: var(--accent-algorithm);
      font-size: var(--text-lg);
    }

    .page-header__title::before {
      content: '◢◤ ';
      opacity: 0.5;
    }

    .page-header__title::after {
      content: ' ◥◣';
      opacity: 0.5;
    }

    .page-header__timestamp {
      font-family: var(--font-ui);
      font-size: var(--text-xs);
      color: var(--text-dim);
    }

    .character-layout {
      display: grid;
      grid-template-columns: 1fr 2fr 1fr;
      gap: var(--space-4);
      max-width: 1400px;
      margin: 0 auto;
      padding: var(--space-4);
    }

    .section-title {
      font-family: var(--font-display);
      font-size: var(--text-xs);
      text-transform: uppercase;
      letter-spacing: var(--tracking-widest);
      color: var(--text-dim);
      margin-bottom: var(--space-4);
    }

    .section-title::before {
      content: '[ ';
    }

    .section-title::after {
      content: ' ]';
    }

    /* ID Panel */
    .id-panel {
      display: flex;
      flex-direction: column;
      gap: var(--space-4);
    }

    .subject-id {
      background: var(--bg-tertiary);
      padding: var(--space-4);
      border: 1px solid var(--border-default);
    }

    .subject-id__photo {
      width: 100%;
      aspect-ratio: 1;
      background: var(--bg-secondary);
      border: 1px solid var(--border-subtle);
      margin-bottom: var(--space-4);
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--text-dim);
      font-size: var(--text-4xl);
    }

    .subject-id__code {
      font-family: var(--font-ui);
      font-size: var(--text-xs);
      color: var(--text-dim);
      margin-bottom: var(--space-2);
    }

    .subject-id__name {
      font-family: var(--font-display);
      font-size: var(--text-xl);
      text-transform: uppercase;
      letter-spacing: var(--tracking-wide);
      color: var(--text-primary);
      margin-bottom: var(--space-2);
    }

    .subject-id__tier {
      display: inline-block;
      padding: var(--space-1) var(--space-2);
      background: var(--accent-algorithm);
      color: var(--bg-primary);
      font-size: var(--text-xs);
      font-weight: var(--font-bold);
      text-transform: uppercase;
      letter-spacing: var(--tracking-wide);
    }

    /* Center Column */
    .center-column {
      display: flex;
      flex-direction: column;
      gap: var(--space-4);
    }

    /* Biometric Overview */
    .biometric-overview {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: var(--space-4);
    }

    .biometric-stat {
      text-align: center;
      padding: var(--space-4);
      background: var(--bg-tertiary);
      border: 1px solid var(--border-subtle);
    }

    .biometric-stat__value {
      font-family: var(--font-ui);
      font-size: var(--text-3xl);
      font-weight: var(--font-bold);
      line-height: var(--leading-none);
      margin-bottom: var(--space-2);
    }

    .biometric-stat__value--hp {
      color: var(--accent-success);
    }

    .biometric-stat__value--humanity {
      color: var(--accent-humanity);
    }

    .biometric-stat__value--rating {
      color: var(--accent-algorithm);
    }

    .biometric-stat__label {
      font-size: var(--text-xs);
      color: var(--text-dim);
      text-transform: uppercase;
      letter-spacing: var(--tracking-wide);
    }

    .biometric-stat__trend {
      font-size: var(--text-xs);
      margin-top: var(--space-2);
    }

    /* Attributes Grid */
    .attributes-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: var(--space-3);
    }

    .attribute-item {
      display: flex;
      align-items: center;
      gap: var(--space-3);
      padding: var(--space-3);
      background: var(--bg-secondary);
      border: 1px solid var(--border-subtle);
    }

    .attribute-item__icon {
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: var(--bg-tertiary);
      border: 1px solid var(--border-default);
      color: var(--accent-algorithm);
      font-size: var(--text-lg);
    }

    .attribute-item__info {
      flex: 1;
    }

    .attribute-item__name {
      font-size: var(--text-xs);
      color: var(--text-dim);
      text-transform: uppercase;
    }

    .attribute-item__value {
      font-family: var(--font-ui);
      font-size: var(--text-lg);
      font-weight: var(--font-bold);
      color: var(--text-primary);
    }

    .attribute-item__modifier {
      font-size: var(--text-xs);
      color: var(--accent-algorithm);
    }

    /* Current Status */
    .status-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: var(--space-3);
    }

    /* Right Column */
    .right-column {
      display: flex;
      flex-direction: column;
      gap: var(--space-4);
    }

    /* Activity Timeline */
    .activity-panel {
      background: var(--bg-tertiary);
      border: 1px solid var(--border-default);
      padding: var(--space-4);
    }

    /* Threat Assessment */
    .threat-panel {
      background: rgba(255, 51, 0, 0.05);
      border: 1px solid var(--accent-danger);
      padding: var(--space-4);
    }

    .threat-panel--low {
      background: rgba(0, 255, 102, 0.05);
      border-color: var(--accent-success);
    }

    .threat-panel__header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: var(--space-3);
    }

    .threat-panel__level {
      font-family: var(--font-display);
      font-size: var(--text-lg);
      text-transform: uppercase;
      letter-spacing: var(--tracking-wide);
    }

    .threat-panel--low .threat-panel__level {
      color: var(--accent-success);
    }

    .threat-panel--high .threat-panel__level {
      color: var(--accent-danger);
    }

    .threat-panel__score {
      font-family: var(--font-ui);
      font-size: var(--text-sm);
      color: var(--text-dim);
    }

    .threat-factors {
      display: flex;
      flex-direction: column;
      gap: var(--space-2);
    }

    .threat-factor {
      display: flex;
      justify-content: space-between;
      font-size: var(--text-sm);
      padding: var(--space-2) 0;
      border-bottom: 1px dashed var(--border-subtle);
    }

    .threat-factor:last-child {
      border-bottom: none;
    }

    .threat-factor__label {
      color: var(--text-secondary);
    }

    .threat-factor__value {
      color: var(--text-primary);
    }

    /* Theme switcher */
    .theme-switcher {
      position: fixed;
      bottom: var(--space-4);
      right: var(--space-4);
      z-index: var(--z-fixed);
      display: flex;
      gap: var(--space-1);
      padding: var(--space-2);
      background: var(--bg-elevated);
      border: 1px solid var(--border-default);
      border-radius: var(--radius-md);
    }

    .theme-switcher button {
      padding: var(--space-2) var(--space-3);
      background: transparent;
      border: none;
      color: var(--text-secondary);
      font-family: var(--font-ui);
      font-size: var(--text-xs);
      cursor: pointer;
      border-radius: var(--radius-sm);
      transition: all var(--duration-fast) var(--ease-out);
    }

    .theme-switcher button:hover {
      color: var(--accent-algorithm);
    }

    .theme-switcher button.active {
      background: var(--accent-algorithm);
      color: var(--bg-primary);
    }

    /* Responsive */
    @media (max-width: 1024px) {
      .character-layout {
        grid-template-columns: 1fr 1fr;
      }

      .right-column {
        grid-column: span 2;
        display: grid;
        grid-template-columns: 1fr 1fr;
      }
    }

    @media (max-width: 768px) {
      .character-layout {
        grid-template-columns: 1fr;
      }

      .right-column {
        display: flex;
        flex-direction: column;
      }

      .biometric-overview {
        grid-template-columns: 1fr;
      }

      .attributes-grid {
        grid-template-columns: 1fr;
      }

      .status-grid {
        grid-template-columns: 1fr;
      }

      .page-header {
        flex-direction: column;
        gap: var(--space-2);
        text-align: center;
      }
    }
  </style>
</head>
<body>
  <!-- Page Header -->
  <header class="page-header">
    <a href="dashboard.html" class="page-header__back">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M19 12H5M12 19l-7-7 7-7"/>
      </svg>
      Return to Dashboard
    </a>
    <h1 class="page-header__title">Subject Analysis</h1>
    <span class="page-header__timestamp">SCAN TIMESTAMP: 2087.03.15 // 22:47:33</span>
  </header>

  <!-- Theme Switcher -->
  <div class="theme-switcher">
    <button onclick="setTheme('neon-decay')">Neon</button>
    <button onclick="setTheme('terminal-noir')">Terminal</button>
    <button class="active" onclick="setTheme('algorithm-vision')">Algorithm</button>
  </div>

  <!-- Main Content -->
  <main class="character-layout">

    <!-- Left Column: ID Panel -->
    <aside class="id-panel">

      <!-- Subject Identification -->
      <div class="subject-id">
        <div class="subject-id__photo" aria-label="Subject photograph">
          <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1">
            <circle cx="12" cy="8" r="4"/>
            <path d="M4 20c0-4 4-6 8-6s8 2 8 6"/>
          </svg>
        </div>
        <div class="subject-id__code">ID: CRR-2087-MC-7744</div>
        <div class="subject-id__name">Marcus Chen</div>
        <span class="subject-id__tier">Tier 3 Courier</span>
      </div>

      <!-- Current Location -->
      <div class="hud-panel">
        <div class="section-title">Current Location</div>
        <div class="location-marker location-marker--caution">
          <svg class="location-marker__icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z"/>
            <circle cx="12" cy="10" r="3"/>
          </svg>
          <span class="location-marker__name">The Hollows</span>
          <span class="location-marker__zone">CAUTION</span>
        </div>
        <div class="hud-data" style="margin-top: var(--space-3);">
          <span class="hud-data__label">Grid Ref</span>
          <span class="hud-data__value">H-7 // NW-3</span>
        </div>
        <div class="hud-data">
          <span class="hud-data__label">District</span>
          <span class="hud-data__value">Meridian Heights</span>
        </div>
      </div>

      <!-- Mini Map -->
      <div class="hud-panel">
        <div class="section-title">Area Map</div>
        <div class="minimap" style="height: 150px;">
          <div class="minimap__grid"></div>
          <div class="minimap__player" style="left: 60%; top: 45%;"></div>
          <div class="minimap__poi minimap__poi--mission" style="left: 75%; top: 30%;"></div>
          <div class="minimap__poi minimap__poi--danger" style="left: 25%; top: 70%;"></div>
          <div class="minimap__poi minimap__poi--friendly" style="left: 85%; top: 65%;"></div>
          <div class="minimap__legend">50m scale</div>
        </div>
      </div>

    </aside>

    <!-- Center Column: Main Data -->
    <section class="center-column">

      <!-- Biometric Overview -->
      <div class="hud-panel hud-panel--scan">
        <div class="hud-panel__scan"></div>
        <div class="section-title">Biometric Overview</div>
        <div class="biometric-overview">
          <div class="biometric-stat">
            <div class="biometric-stat__value biometric-stat__value--hp">82</div>
            <div class="biometric-stat__label">Health Points</div>
            <div class="biometric-stat__trend vital__trend--stable">OPTIMAL</div>
          </div>
          <div class="biometric-stat">
            <div class="biometric-stat__value biometric-stat__value--humanity">95</div>
            <div class="biometric-stat__label">Humanity</div>
            <div class="biometric-stat__trend vital__trend--down">-5 from chrome</div>
          </div>
          <div class="biometric-stat">
            <div class="biometric-stat__value biometric-stat__value--rating">127.4</div>
            <div class="biometric-stat__label">Courier Rating</div>
            <div class="biometric-stat__trend vital__trend--up">+0.8 today</div>
          </div>
        </div>
      </div>

      <!-- Core Attributes -->
      <div class="hud-panel">
        <div class="section-title">Core Attributes</div>
        <div class="attributes-grid">
          <div class="attribute-item">
            <div class="attribute-item__icon">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                <circle cx="12" cy="7" r="4"/>
              </svg>
            </div>
            <div class="attribute-item__info">
              <div class="attribute-item__name">Body</div>
              <div class="attribute-item__value">6</div>
              <div class="attribute-item__modifier">+1 from Neural Link</div>
            </div>
          </div>
          <div class="attribute-item">
            <div class="attribute-item__icon">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"/>
                <path d="M12 16v-4M12 8h.01"/>
              </svg>
            </div>
            <div class="attribute-item__info">
              <div class="attribute-item__name">Mind</div>
              <div class="attribute-item__value">8</div>
              <div class="attribute-item__modifier">Base stat</div>
            </div>
          </div>
          <div class="attribute-item">
            <div class="attribute-item__icon">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                <polyline points="22,4 12,14.01 9,11.01"/>
              </svg>
            </div>
            <div class="attribute-item__info">
              <div class="attribute-item__name">Reflex</div>
              <div class="attribute-item__value">7</div>
              <div class="attribute-item__modifier">Base stat</div>
            </div>
          </div>
          <div class="attribute-item">
            <div class="attribute-item__icon">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
              </svg>
            </div>
            <div class="attribute-item__info">
              <div class="attribute-item__name">Presence</div>
              <div class="attribute-item__value">5</div>
              <div class="attribute-item__modifier">Base stat</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Installed Augmentations -->
      <div class="hud-panel">
        <div class="section-title">Installed Augmentations</div>
        <div class="aug-scanner">
          <div class="aug-slot">
            <div class="aug-slot__icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"/>
                <circle cx="12" cy="12" r="3"/>
              </svg>
            </div>
            <div class="aug-slot__info">
              <div class="aug-slot__name">Kiroshi Optics Mk.II</div>
              <div class="aug-slot__location">Ocular implant</div>
            </div>
            <span class="aug-slot__status aug-slot__status--active">Active</span>
            <div class="aug-slot__humanity">
              <span class="aug-slot__humanity-cost">-3 HUM</span>
            </div>
          </div>

          <div class="aug-slot">
            <div class="aug-slot__icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M22 12h-4l-3 9L9 3l-3 9H2"/>
              </svg>
            </div>
            <div class="aug-slot__info">
              <div class="aug-slot__name">Neural Link Basic</div>
              <div class="aug-slot__location">Cranial processor</div>
            </div>
            <span class="aug-slot__status aug-slot__status--active">Active</span>
            <div class="aug-slot__humanity">
              <span class="aug-slot__humanity-cost">-2 HUM</span>
            </div>
          </div>

          <div class="aug-slot aug-slot--empty">
            <div class="aug-slot__icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                <line x1="12" y1="8" x2="12" y2="16"/>
                <line x1="8" y1="12" x2="16" y2="12"/>
              </svg>
            </div>
            <div class="aug-slot__info">
              <div class="aug-slot__name">Arm Slot - Empty</div>
              <div class="aug-slot__location">Available for installation</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Algorithm Prediction -->
      <div class="prediction-block">
        <div class="prediction-block__header">
          <span class="prediction-block__title">Behavioral Prediction</span>
          <span class="prediction-block__confidence">Confidence: 87.3%</span>
        </div>
        <div class="prediction-block__content">
          "Subject exhibits high reliability metrics. Current trajectory suggests Tier 4 promotion within 21 standard days if delivery success rate maintains above 94%. Recommending priority assignment for medical supply routes."
        </div>
        <div class="prediction-block__actions">
          <div class="prediction-action">
            <span>Accept Medical Run</span>
            <span class="prediction-action__probability">72%</span>
          </div>
          <div class="prediction-action">
            <span>Pursue Gray Market</span>
            <span class="prediction-action__probability">15%</span>
          </div>
          <div class="prediction-action">
            <span>Take Rest Period</span>
            <span class="prediction-action__probability">13%</span>
          </div>
        </div>
      </div>

    </section>

    <!-- Right Column: Activity & Threat -->
    <aside class="right-column">

      <!-- Threat Assessment -->
      <div class="threat-panel threat-panel--low">
        <div class="threat-panel__header">
          <span class="threat-panel__level">Low Threat</span>
          <span class="threat-panel__score">Score: 12/100</span>
        </div>
        <div class="section-title">Threat Factors</div>
        <div class="threat-factors">
          <div class="threat-factor">
            <span class="threat-factor__label">Faction Standing</span>
            <span class="threat-factor__value">+2 (Friendly)</span>
          </div>
          <div class="threat-factor">
            <span class="threat-factor__label">Active Hostiles</span>
            <span class="threat-factor__value">0 in range</span>
          </div>
          <div class="threat-factor">
            <span class="threat-factor__label">Zone Status</span>
            <span class="threat-factor__value">Patrolled</span>
          </div>
          <div class="threat-factor">
            <span class="threat-factor__label">Wanted Level</span>
            <span class="threat-factor__value">None</span>
          </div>
        </div>
      </div>

      <!-- Activity Log -->
      <div class="activity-panel">
        <div class="section-title">Recent Activity</div>
        <div class="timeline">
          <div class="timeline__event timeline__event--success">
            <div class="timeline__marker"></div>
            <div class="timeline__time">22:47</div>
            <div class="timeline__content">
              <strong>Medical delivery completed.</strong> Dr. Tanaka acknowledged receipt. +45 credits, +0.3 rating.
            </div>
          </div>
          <div class="timeline__event">
            <div class="timeline__marker"></div>
            <div class="timeline__time">21:32</div>
            <div class="timeline__content">
              Entered <strong>The Hollows</strong> district via Sector 7 checkpoint.
            </div>
          </div>
          <div class="timeline__event timeline__event--warning">
            <div class="timeline__marker"></div>
            <div class="timeline__time">20:15</div>
            <div class="timeline__content">
              <strong>Near-miss incident.</strong> Avoided Red Tide patrol in Meridian Heights. No engagement.
            </div>
          </div>
          <div class="timeline__event">
            <div class="timeline__marker"></div>
            <div class="timeline__time">19:48</div>
            <div class="timeline__content">
              Accepted mission: <strong>Medical Run to Hollows Clinic</strong>
            </div>
          </div>
          <div class="timeline__event">
            <div class="timeline__marker"></div>
            <div class="timeline__time">18:30</div>
            <div class="timeline__content">
              Session started. Connected from known terminal.
            </div>
          </div>
        </div>
      </div>

      <!-- Vitals Detail -->
      <div class="hud-panel">
        <div class="section-title">Detailed Vitals</div>
        <div class="vitals">
          <div class="vital">
            <div class="vital__value">98</div>
            <div class="vital__label">Heart Rate</div>
            <div class="vital__trend vital__trend--stable">Normal</div>
          </div>
          <div class="vital">
            <div class="vital__value">36.4</div>
            <div class="vital__label">Core Temp</div>
            <div class="vital__trend vital__trend--stable">Normal</div>
          </div>
          <div class="vital">
            <div class="vital__value">78%</div>
            <div class="vital__label">Stamina</div>
            <div class="vital__trend vital__trend--down">-8%</div>
          </div>
          <div class="vital">
            <div class="vital__value">OK</div>
            <div class="vital__label">Chrome Status</div>
            <div class="vital__trend vital__trend--stable">All systems</div>
          </div>
        </div>
      </div>

    </aside>

  </main>

  <script>
    function setTheme(theme) {
      document.documentElement.setAttribute('data-theme', theme);

      // Update active button
      document.querySelectorAll('.theme-switcher button').forEach(btn => {
        btn.classList.remove('active');
      });
      event.target.classList.add('active');
    }
  </script>
</body>
</html>
